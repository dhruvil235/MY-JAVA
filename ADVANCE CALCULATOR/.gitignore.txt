import tkinter as tk
from math import sin, cos, tan, sqrt, pow ,log10,log,factorial

class Calculator:
    def __init__(self, root):
        self.root = root
        self.root.title("Advanced Calculator")
        self.root.geometry("450x650")
        self.root.resizable(False, False)
        self.root.config(bg="#14539a")

        # Display Frame
        self.display = tk.Entry(self.root, font=("Arial", 24), bg="#0d3562", bd="0", justify="right")
        self.display.pack(expand=True, fill="both")

        # Buttons Frame
        self.buttons_frame = tk.Frame(self.root, bg="#0d3562")
        self.buttons_frame.pack(expand=True, fill="both")

        # Buttons Layout
        self.create_buttons()

    def create_buttons(self):
        buttons = [
            ("7", "8", "9", "/"),
            ("4", "5", "6", "*"),
            ("1", "2", "3", "-"),
            ("C", "0", "=", "+"),
            ("sqrt", "x²","log","ln"),
            ("sin", "cos", "tan","fact"),
        ]

        for i, row in enumerate(buttons):
            for j, btn in enumerate(row):
                tk.Button(
                    self.buttons_frame,
                    text=btn,
                    font=("Arial", 18),
                    bg="#3c3c3c",
                    fg="#fff8ff",
                    command=lambda btn=btn: self.on_button_click(btn),
                ).grid(row=i, column=j, sticky="nsew", padx=2, pady=2)

        # Configure grid layout
        for i in range(len(buttons)):
            self.buttons_frame.rowconfigure(i, weight=1)
        for j in range(len(buttons[0])):
            self.buttons_frame.columnconfigure(j, weight=1)

    def on_button_click(self, button):
        if button == "C":
            self.display.delete(0, tk.END)
        elif button == "=":
            try:
                expression = self.display.get()
                result = eval(expression)
                self.display.delete(0, tk.END)
                self.display.insert(tk.END, str(result))
            except Exception as e:
                self.display.delete(0, tk.END)
                self.display.insert(tk.END, "Error")
        elif button in ["sqrt", "x²", "sin", "cos", "tan","log","ln","fact"]:
            try:
                value = float(self.display.get())
                if button == "sqrt":
                    result = sqrt(value)
                elif button == "x²":
                    result = pow(value, 2)
                elif button == "sin":
                    result = sin(value)
                elif button == "cos":
                    result = cos(value)
                elif button == "tan":
                    result = tan(value)
                elif button == "log":
                    result =log10(value)
                elif button == "ln":
                    result =log(value)
                elif button == "fact":
                    result =factorial( int(self.display.get()))
                self.display.delete(0, tk.END)
                self.display.insert(tk.END, str(result))
            except ValueError:
                self.display.delete(0, tk.END)
                self.display.insert(tk.END, "Error")
        else:
            self.display.insert(tk.END, button)

if __name__ == "__main__":
    root = tk.Tk()
    Calculator(root)
    root.mainloop()

